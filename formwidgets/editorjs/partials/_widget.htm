<div id="editorjs"></div>
<input type="hidden" id="<?= $name ?>" name="<?= $name ?>"> 

<script>
const editor = new EditorJS({
    tools: {
      inlineCode: {
          class: InlineCode,
      },
      header: Header,
      paragraph: {
        class: Paragraph,
        inlineToolbar: true,
      },
      image: {
        class: ImageTool,
        config: {
          endpoints: {
            byFile: '<?= $byFile ?>', // Your backend file uploader endpoint
            byUrl: '<?= $byUrl ?>', // Your endpoint that provides uploading by Url
          },
          additionalRequestHeaders: {
            'X-CSRF-TOKEN': '<?= csrf_token() ?>',
          },
        }
      }
    },
    onChange: function() {
      editor.save().then((savedData) => {
        document.getElementById("<?= $name ?>").value = JSON.stringify(savedData)
      });
    },
    data: <?= $data ?>
});
</script>
